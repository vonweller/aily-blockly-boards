# å¼€å‘æ¿é€‚é…æŒ‡å—  

## å¼€å‘è°ƒè¯•æ–¹æ³•  

### æ‰“å¼€å¼€å‘è€…æ¨¡å¼
é€šè¿‡`èœå• > è®¾ç½® > å¼€å‘è€…æ¨¡å¼`ï¼Œæ‰“å¼€å¼€å‘è€…æ¨¡å¼ã€‚æ­¤æ—¶blocklyå·¥ä½œåŒºå·¦ä¸‹è§’çš„`åº“ç®¡ç†`æŒ‰é’®å³ä¾§ä¼šå‡ºç°ğŸ”å›¾æ ‡ï¼Œè¯¥å›¾æ ‡ç”¨äºä¿®æ”¹åº“æºç åï¼Œæ‰‹åŠ¨é‡æ–°åŠ è½½åº“ã€‚

## åŸºäºç°æœ‰å¼€å‘æ¿é€‚é…
å¦‚æœä½ çš„å¼€å‘æ¿ä½¿ç”¨å’Œarduinoå®˜æ–¹å¼€å‘æ¿ä¸€æ ·ï¼Œä½¿ç”¨avrã€renesasï¼Œæˆ–ä½¿ç”¨esp32ï¼Œåˆ™å¯ä»¥åœ¨ç°æœ‰é…ç½®ä¸­ï¼Œæ‰¾åˆ°ç±»ä¼¼çš„é…ç½®æ–‡ä»¶ï¼Œå¤åˆ¶å¹¶åœ¨æ­¤åŸºç¡€ä¸Šä¿®æ”¹ã€‚  

### arduinoå…¼å®¹å¼€å‘æ¿é€‚é…  
å½“å‰ç‰ˆæœ¬æ”¯æŒavrå’Œrenesaså†…æ ¸çš„arduinoå…¼å®¹å¼€å‘æ¿ï¼Œå‚è€ƒarduino_unoã€arduino_uno_r4ç›®å½•  

### esp32é€‚é…
æœ¬ä»“åº“ä¸­å‡†å¤‡äº†esp32ã€esp32c3ã€esp32s3 ä¸‰ä¸ªæ¨¡æ¿ã€‚ç¡®å®šä½ çš„å¼€å‘æ¿æ ¸å¿ƒå‹å·ï¼Œç„¶åå¤åˆ¶å¯¹åº”çš„æ–‡ä»¶å¤¹ï¼Œæ”¹æˆä½ çš„å¼€å‘æ¿åç§°ï¼Œç„¶åå†å¯¹åº”ä¿®æ”¹package.jsonã€board.jsonæ–‡ä»¶å³å¯ã€‚
`/template`ä¸­æ˜¯é¡¹ç›®åˆå§‹æ¨¡æ¿é¡¹ç›®ï¼Œå¦‚æœä½ çš„å¼€å‘æ¿è‡ªå¸¦äº†ä¸€äº›åº“ï¼Œå¯ä»¥æ·»åŠ åˆ°`/template/package.json`ä¸­ï¼Œè¿™æ ·ç”¨æˆ·åœ¨æ–°å»ºé¡¹ç›®åï¼Œå°±ä¼šè‡ªåŠ¨åŠ è½½å¯¹åº”çš„åº“ã€‚  

### STM32é€‚é…  
å¾…å†™  

### æ ‘è“æ´¾RPç³»åˆ—MCUé€‚é…  
å¾…å†™  

### ç¼–è¯‘å‚æ•°è‡ªå®šä¹‰é€‚é…
å¼€å‘ç‰ˆçš„ç¼–è¯‘å‚æ•°é…ç½®åœ¨æ¨¡ç‰ˆ`board.json`æ–‡ä»¶ä¸­çš„`compilerParam`å‚æ•°ä¸­é…ç½®ã€‚å¦‚æœæœ‰ç‰¹æ®Šçš„ç¼–è¯‘é…ç½®éœ€æ±‚å¯é‡‡ç”¨ç±»ä¼¼å¦‚ä¸‹æ–¹å¼çš„è¿›è¡Œé…ç½®ï¼ˆä¸arduino-cliçš„ä½¿ç”¨æ–¹å¼ä¸€æ ·ï¼‰ã€‚
```
compile -b esp32:esp32:esp32c3 --build-property build.flash_mode=dio --build-property build.flash_freq=80m --build-property build.flash_size=4MB
compile -b arduino:avr:uno --build-property build.extra_flags=\"-DMY_DEFINE=\"hello world\"\""
compile -b arduino:avr:uno --build-property build.extra_flags=-DPIN=2 \"-DMY_DEFINE=\"hello world\"\"" /home/user/Arduino/MySketch` + "\n" +
compile -b arduino:avr:uno --build-property build.extra_flags=-DPIN=2 --build-property "compiler.cpp.extra_flags=\"-DSSID=\"hello world\"\"" /home/user/Arduino/MySketch` + "\n",
```

### ä¸Šä¼ å‚æ•°è‡ªå®šä¹‰é€‚é…

```
avrdude -C${'avrdude.conf'} -v -V -patmega328p -carduino -P${serial} -b${baud} -D -Uflash:w:${file}:i;

esptool --chip esp32s3 --port ${serial} --baud ${baud} --before default_reset --after hard_reset write_flash -z --flash_mode keep --flash_freq keep --flash_size keep 0x0 ${bootloader} 0x8000 ${partitions} 0xe000 ${boot_app0} 0x10000 ${file}

bossac -d --port=${serial} -a -U -e -w ${file} -R
[--use_1200bps_touch, --wait_for_upload] bossac -d --port=${serial} -a -U -e -w ${file} -R

dfu-util --device 0x2341:0x0069,:0x0369 -D ${file} -a0 -Q
```

å¯æ›¿æ¢å˜é‡ï¼š

- `${serial}`
- `${baud}`
- `${file}`
- `${bootloader}`
- `${partitions}`
- `${boot_app0}`

å­—ç¬¦ä¸²å¸¸é‡ï¼š

- `${"æ–‡ä»¶å"}`

éœ€è¦ä½¿ç”¨--use_1200bps_touchå’Œ--wait_for_uploadçš„æƒ…å†µï¼šä»¥â€œ[]â€åŒ…è£¹æ”¾åœ¨æœ€å‰é¢


### å®‰è£…åº“
ä½ å¯ä»¥å…ˆå°†åº“æ¨¡æ¿æˆ–è‡ªå·±åˆ›å»ºçš„åº“ï¼Œæ”¾åˆ°è®¡ç®—æœºä»»æ„ä½ç½®ï¼Œå¦‚`d:\arduino_test`ã€‚
ç„¶ååœ¨aily blocklyä¸­æ‰“å¼€é¡¹ç›®ï¼Œå†æ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥ï¼š
```
npm i d:\arduino_test
```
å³å¯ä¸ºè¯¥é¡¹ç›®å®‰è£…ä¸Šæ­¤å¼€å‘æ¿ã€‚

### é‡æ–°åŠ è½½åº“
ç‚¹å‡» `é¡¹ç›®ç®¡ç†` å³ä¾§çš„ğŸ”å›¾æ ‡ï¼Œå³å¯é‡æ–°åŠ è½½é¡¹ç›®ã€‚

### ä¿®æ”¹åº“
ä½ å¯ä»¥ç›´æ¥ä¿®æ”¹é¡¹ç›®ç›®å½•ä¸‹`node_modules\@aily-project\<å¼€å‘æ¿åç§°>`ï¼Œç„¶ååœ¨aily blocklyé‡æ–°åŠ è½½æµ‹è¯•ï¼›
ä¹Ÿå¯ä»¥ä¿®æ”¹`d:\arduino_test`ä¸‹çš„åŸå§‹å¼€å‘æ¿æ–‡ä»¶ï¼Œç„¶åå†æ¬¡å®‰è£…åº“æµ‹è¯•ã€‚

## æäº¤åº“ 
ä½ å¯ä»¥å…ˆforkæœ¬é¡¹ç›®åˆ°ä¸ªäººä»“åº“ã€‚ç„¶åå°†ä½ æ–°å»ºçš„å¼€å‘æ¿é…ç½®æ”¾ç½®åˆ°å…¶ä¸­ï¼Œå†æäº¤Pull requestsã€‚
è”ç³» å¥ˆä½•colåˆå¹¶ï¼Œæˆ–è€…ç­‰å¾…é¡¹ç›®å…¶ä»–ç®¡ç†å‘˜åˆå¹¶ã€‚  
åˆå¹¶å®Œæˆåï¼Œå³ä¼šæ¨é€åˆ°npmä»“åº“ï¼Œæ­¤åæ‰€æœ‰ç”¨æˆ·å‡å¯ä½¿ç”¨ä½ å¼€å‘åº“ã€‚



